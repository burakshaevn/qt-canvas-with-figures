# Создание библиотеки классов для графических примитивов с использованием виртуальных методов

Задачи, которые необходимо реализовать в л/р 4: 
1. **Внести в базовый класс фигур следующие изменения:**
· **абстрактный метод прорисовки объявить виртуальным;**
В С++ абстрактный метод который вдобавок виртуальный, называется чисто виртуальная функция. Пример её заголовка: `virtual void Foo() = 0;`. Главное, чтобы здесь присутствовала часть `virtual ... = 0;`. 
> Если класс имеет **хотя бы один чисто виртуальный метод**, то он **абстрактный**.
```cpp
class Figure {
public:
    // ...
    virtual void Show(QGraphicsScene* scene) = 0;
    // ...
```
· **метод перемещения сделать реальным, с вызовом виртуального метода прорисовки.**
в классе `Figure` метод перемещения `MoveTo` объявлен как виртуальная функция: `virtual void MoveTo(const int dx, const int dy);`. Чтобы он был **реальным**, нужно чтобы он был просто `void MoveTo(const int dx, const int dy);`, то есть, без `virtual`. 

```cpp
class Figure {
public:
	// ...
    void MoveTo(const int dx, const int dy);
```

Метод `MoveTo` в базовом классе `Figure` перемещает только точку `position_`, а, например, для линии (`Line`) нужно перемещать две точки: `start_` и `end_`. Или, например, для кольца нужно перемещать сразу два кольца. А сам метод `MoveTo` не обновляет координаты остальные точки, так как он не знает об их существовании. Из этого вывод, что для любого класса невозможно использовать реальный метод MoveTo. 

Сам метод вызывает функцию `UpdatePoints`, которая является виртуальной. Она перемещает оставшиеся точки. Она определена только в классах House, Line и Ring. Остальные классы перемещаются только с помощью MoveTo.
```cpp
void Figure::MoveTo(const int dx, const int dy) {
    position_.MoveToX(dx);
    position_.MoveToY(dy);
    UpdatePoints(dx, dy);
    Show();
}
```
2. **Во все дочерние классы внести следующие изменения:**
**· объявить метод прорисовки переопределяемым, оставив без изменения его программную реализацию;**
Во всех остальных классах, которые напрямую наследуются от Figure, в них метод Show будет иметь в конце ключевое слово `override` что значит **метод переопределён** (у метода этого класса будет своя логика). Пример:
```cpp
class Circle : public Figure {
public:
    // ...
    void Show(QGraphicsScene *scene) override;
    // ...
```
· **убрать из класса метод перемещения, который теперь должен наследоваться и динамически настраиваться.** 
Во всех классах MoveTo пропал и наследуется из класса Figure. 